

1.Retrieve the data of donors who can donate to patients with compatable blood group

SELECT DONOR.DONOR_ID, DONOR.DONOR_NAME, DONOR.DONOR_NUMBER, PATIENT.PATIENT_NAME,PATIENT_BLOOD.BLOOD_GROUP FROM
(((DONOR_BLOOD INNER JOIN DONOR ON DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID) 
INNER JOIN PATIENT_BLOOD ON PATIENT_BLOOD.BLOOD_GROUP = DONOR_BLOOD.BLOOD_GROUP)INNER JOIN
PATIENT ON PATIENT.PATIENT_ID = PATIENT_BLOOD.PATIENT_ID) 
WHERE DONOR.DONOR_MEDICAL_REPORT = 'Yes' 
ORDER BY DONOR.DONOR_ID;

2.Find the Donors who live in Madurai and get their name, id ,blood, group and contact number and which blood bank they have donated

SELECT DONOR.DONOR_ID, DONOR.DONOR_NAME, DONOR_BLOOD.BLOOD_GROUP, DONOR.DONOR_NUMBER, 
BLOODBANK.BLOOD_BANK_NAME, BLOODBANK.CONTACT_NUMBER, DONOR.BLOOD_BANK_ID FROM( 
(DONOR INNER JOIN BLOODBANK ON DONOR.BLOOD_BANK_ID=BLOODBANK.BLOOD_BANK_ID) INNER JOIN DONOR_BLOOD ON DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID) WHERE DONOR.DONOR_ADDRESS LIKE '%Madurai%' ;

3.To display patient details with high priority along with donor details 

SELECT PATIENT_PRIORITY.PATIENT_ID,PATIENT.PATIENT_DISEASE,PATIENT.PATIENT_NAME,PATIENT_UNITS.UNITS_REQUIRED,PATIENT_BLOOD.BLOOD_GROUP,PATIENT_PRIORITY.PRIORITY_ 
FROM (((PATIENT_PRIORITY INNER JOIN PATIENT ON 
PATIENT.PATIENT_ID = PATIENT_PRIORITY.PATIENT_ID) INNER JOIN PATIENT_UNITS ON PATIENT.PATIENT_ID = PATIENT_UNITS.PATIENT_ID) 
INNER JOIN PATIENT_BLOOD ON PATIENT.PATIENT_ID = PATIENT_BLOOD.PATIENT_ID)
WHERE PATIENT_PRIORITY.PRIORITY_ = 'HIGH';

4.To find the donors with rare blood group, and has a medical report

SELECT DONOR.DONOR_ID,DONOR.DONOR_NAME,DONOR.DONOR_ADDRESS,DONOR_BLOOD.BLOOD_GROUP,DONOR.DONOR_NUMBER FROM  ((DONOR INNER JOIN DONOR_BLOOD  ON DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID) INNER JOIN DONOR_RAREBLOOD ON DONOR.DONOR_ID = DONOR_RAREBLOOD.DONOR_ID) 
WHERE DONOR.DONOR_MEDICAL_REPORT = 'Yes' AND DONOR_RAREBLOOD.RARE_BLOOD = 'YES';

5.DONORS  WITH PARTICULAR BLOOD GROUP

SELECT DONOR.DONOR_ID,DONOR.DONOR_NAME,DONOR_UNITS.UNITS_DONATED AS COUNT,DONOR.DONOR_ADDRESS,DONOR_BLOOD.BLOOD_GROUP,DONOR.DONOR_NUMBER 
FROM  (((DONOR INNER JOIN DONOR_BLOOD  ON DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID) INNER JOIN DONOR_RAREBLOOD ON DONOR.DONOR_ID = DONOR_RAREBLOOD.DONOR_ID) 
INNER JOIN DONOR_UNITS ON DONOR.DONOR_ID = DONOR_UNITS.DONOR_ID)
WHERE DONOR_BLOOD.BLOOD_GROUP = 'O+ve';


6.COUNT OF A PARTICULAR BLOOD GROUP IN A PARTICULAR BLOOD BANK
SELECT SUM(DONOR_UNITS.UNITS_DONATED) AS 'COUNT IN UNITS' ,DONOR_BLOOD.BLOOD_GROUP,BLOOD_BANK_NAME,BLOOD_BANK_ADDRESS,CONTACT_NUMBER
FROM  (((DONOR INNER JOIN DONOR_BLOOD  ON DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID) INNER JOIN DONOR_UNITS ON DONOR.DONOR_ID = DONOR_UNITS.DONOR_ID)
INNER JOIN BLOODBANK ON DONOR.BLOOD_BANK_ID = BLOODBANK.BLOOD_BANK_ID)
WHERE DONOR_BLOOD.BLOOD_GROUP = 'O+ve' AND  DONOR.BLOOD_BANK_ID = '3';



7.
START TRANSACTION;
UPDATE DONOR SET DONOR_NUMBER = '9364936466' WHERE DONOR_ID = '1';
COMMIT;
SAVEPOINT A;
SELECT * FROM DONOR_UNITS;
ROLLBACK;


6. COUNT OF HOW MANY TIMES A DONOR DONATED
SELECT COUN.COUN ,DONOR.DONOR_NAME,DONOR_BLOOD.BLOOD_GROUP,DONOR.DONOR_ADDRESS,DONOR.DONOR_NUMBER
FROM  (((DONOR INNER JOIN DONOR_BLOOD  ON DONOR.DONOR_ID = DONOR_BLOOD.DONOR_ID) INNER JOIN DONOR_UNITS ON DONOR.DONOR_ID = DONOR_UNITS.DONOR_ID) 
INNER JOIN COUN ON DONOR.DONOR_ID = COUN.DONOR_ID);


